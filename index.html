<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Play Adds Game</title>
<style>
  *{box-sizing:border-box;margin:0;padding:0;font-family:"Poppins",sans-serif;}
  body{background:#fff;color:#333;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-height:100vh;}
  header{width:100%;background:#00c853;color:#fff;text-align:center;padding:15px;font-size:22px;font-weight:bold;border-radius:0 0 12px 12px;}
  .container{width:90%;max-width:450px;margin-top:20px;}
  .card{background:#f9f9f9;border:2px solid #00c853;border-radius:16px;padding:20px;margin-bottom:15px;text-align:center;box-shadow:0 4px 8px rgba(0,0,0,0.1);}
  .btn{background:#00c853;color:white;border:none;padding:12px 18px;border-radius:12px;font-size:16px;cursor:pointer;transition:0.3s;}
  .btn:hover{background:#009b42;}
  nav{position:fixed;bottom:0;background:#fff;border-top:2px solid #00c853;width:100%;display:flex;justify-content:space-around;padding:10px 0;font-weight:bold;}
  .hidden{display:none;}
  .wheel{width:250px;height:250px;border-radius:50%;border:8px solid #00c853;margin:20px auto;position:relative;overflow:hidden;}
  .wheel div{width:50%;height:50%;position:absolute;transform-origin:100% 100%;}
  #circle{width:60px;height:60px;background:#00c853;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);cursor:pointer;}
  #gameArea{position:relative;width:100%;height:300px;background:#f5f5f5;border:2px solid #00c853;border-radius:16px;overflow:hidden;margin-top:20px;}
  #timer,#score{font-size:18px;margin:5px;}
  @keyframes pop {0%{transform:translate(-50%,-50%) scale(1);}50%{transform:translate(-50%,-50%) scale(1.4);}100%{transform:translate(-50%,-50%) scale(1);}}
</style>
</head>
<body>

<header>Play Adds Game</header>

<div id="login" class="container">
  <div class="card">
    <h2>Welcome 👋</h2>
    <input id="username" placeholder="Enter your name" style="padding:10px;width:80%;border:2px solid #00c853;border-radius:10px;margin-top:10px;">
    <br><br>
    <button class="btn" onclick="startApp()">Start</button>
  </div>
</div>

<div id="home" class="container hidden">
  <div class="card"><h3>🎁 500 Points = ₹5 | 5000 Points = ₹50</h3></div>
  <div class="card"><h3>Total Points: <span id="totalPoints">0</span></h3></div>
  <div class="card"><button class="btn" onclick="showSection('spin')">🎡 Spin & Win</button></div>
  <div class="card"><button class="btn" onclick="showSection('tap')">🎯 Tap The Circle</button></div>
  <div class="card"><button class="btn" onclick="showSection('redeem')">💰 Redeem Now</button></div>
</div>

<div id="spin" class="container hidden">
  <h2>🎡 Spin & Win</h2>
  <div class="wheel" id="wheel"></div>
  <button class="btn" id="spinBtn" onclick="spinWheel()">Spin Now</button>
  <p id="spinResult"></p>
</div>

<div id="tap" class="container hidden">
  <h2>🎯 Tap The Circle</h2>
  <div><span id="timer">Time: 10</span> | <span id="score">Score: 0</span></div>
  <div id="gameArea">
    <div id="circle" onclick="tapCircle()"></div>
  </div>
  <button class="btn" id="startTapBtn" onclick="startTapGame()">Start Game</button>
</div>

<div id="redeem" class="container hidden">
  <div class="card">
    <h2>💰 Redeem Points</h2>
    <p>Your Points: <b><span id="redeemPoints">0</span></b></p>
    <select id="redeemOption" style="padding:10px;width:80%;border:2px solid #00c853;border-radius:10px;margin-top:10px;">
      <option value="UPI">UPI</option>
      <option value="Amazon">Amazon Voucher</option>
      <option value="PlayStore">Play Store Code</option>
    </select><br><br>
    <input id="upi" placeholder="Enter UPI ID / Email" style="padding:10px;width:80%;border:2px solid #00c853;border-radius:10px;">
    <br><br>
    <button class="btn" onclick="redeemPoints()">Redeem</button>
    <p id="redeemMsg"></p>
  </div>
</div>

<nav>
  <span onclick="showSection('home')">🏠 Home</span>
  <span onclick="showSection('spin')">🎡 Spin</span>
  <span onclick="showSection('tap')">🎯 Tap</span>
  <span onclick="showSection('redeem')">💰 Redeem</span>
</nav>

<script>
let totalPoints = parseInt(localStorage.getItem('points')) || 0;
let spinCooldown = false;
let timeLeft=10, timer, gameActive=false;
const tapPoints=5;

function startApp(){
  document.getElementById('login').classList.add('hidden');
  document.getElementById('home').classList.remove('hidden');
  updatePoints();
}

function showSection(id){
  document.querySelectorAll('.container').forEach(div=>div.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
  updatePoints();
}

function updatePoints(){
  document.getElementById('totalPoints').innerText = totalPoints;
  document.getElementById('redeemPoints').innerText = totalPoints;
  localStorage.setItem('points', totalPoints);
}

const wheel=document.getElementById('wheel');
const segments=[2,4,6,8,10,12,14,15];
const colors=["#00c853","#b2ff59","#64dd17","#1de9b6","#00bfa5","#00c853","#b2ff59","#64dd17"];
segments.forEach((points,index)=>{
  const seg=document.createElement('div');
  seg.style.background=colors[index];
  seg.style.transform=`rotate(${index*45}deg) skewY(-45deg)`;
  const label=document.createElement('span');
  label.innerText=points;
  label.style.position='absolute';label.style.top='10px';label.style.right='50%';
  label.style.transform=`rotate(22.5deg) translate(90px) rotate(-22.5deg)`;
  label.style.fontWeight='bold';label.style.color='#fff';
  seg.appendChild(label);wheel.appendChild(seg);
});

function spinWheel(){
  if(spinCooldown) return alert("⏳ Please wait 10 seconds!");
  const deg=Math.floor(5000+Math.random()*5000);
  wheel.style.transition="all 4s ease-out";
  wheel.style.transform=`rotate(${deg}deg)`;
  spinCooldown=true;
  setTimeout(()=>{
    const points=segments[Math.floor(Math.random()*segments.length)];
    totalPoints+=points;
    updatePoints();
    document.getElementById('spinResult').innerText=`🎉 You won ${points} points!`;
    setTimeout(()=>{spinCooldown=false;document.getElementById('spinResult').innerText="";},10000);
  },4000);
}

function startTapGame(){
  timeLeft=10;gameActive=true;
  document.getElementById('score').innerText='Score: 0';
  document.getElementById('timer').innerText='Time: '+timeLeft;
  document.getElementById('startTapBtn').disabled=true;
  timer=setInterval(()=>{
    timeLeft--;
    document.getElementById('timer').innerText='Time: '+timeLeft;
    moveCircle();
    if(timeLeft<=0) endTapGame();
  },1000);
}

function tapCircle(){
  if(!gameActive) return;
  const circle=document.getElementById('circle');
  circle.style.animation='pop 0.3s ease';
  circle.addEventListener('animationend',()=>{circle.style.animation='';},{once:true});
  moveCircle();
}

function endTapGame(){
  clearInterval(timer);gameActive=false;
  totalPoints+=tapPoints;
  updatePoints();
  alert(`🎯 Game Over! You earned ${tapPoints} points!`);
  document.getElementById('startTapBtn').disabled=false;
}

function moveCircle(){
  const area=document.getElementById('gameArea');
  const circle=document.getElementById('circle');
  const maxX=area.clientWidth-60;const maxY=area.clientHeight-60;
  const x=Math.random()*maxX;const y=Math.random()*maxY;
  circle.style.left=x+'px';circle.style.top=y+'px';
}

function redeemPoints(){
  const upi=document.getElementById('upi').value.trim();
  if(totalPoints<500){document.getElementById('redeemMsg').innerText="❌ Minimum 500 points required!";return;}
  if(!upi){document.getElementById('redeemMsg').innerText="⚠️ Enter UPI or Email";return;}
  const option=document.getElementById('redeemOption').value;
  totalPoints-=500;
  updatePoints();
  document.getElementById('redeemMsg').innerText=`✅ ${option} redeem request sent!`;
}
</script>
</body>
</html>
