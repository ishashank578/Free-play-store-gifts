<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="monetag" content="35ff941ec8e9e0f08b73c60fcacd463e">
  <title>Play Adds Game</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #e8f5e9, #a5d6a7);
      text-align: center;
      color: #0b3b26;
      margin: 0;
      padding: 20px;
    }
    .game-container {
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 6px 12px rgba(0,0,0,0.1);
      padding: 20px;
      max-width: 400px;
      margin: 30px auto;
    }
    .circle {
      width: 120px;
      height: 120px;
      background: radial-gradient(circle, #4caf50, #1b5e20);
      border-radius: 50%;
      margin: 20px auto;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 18px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }
    .circle:active { transform: scale(0.95); }
    button {
      background: #1fa84a;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      color: white;
      cursor: pointer;
      font-size: 16px;
      margin: 10px;
      transition: 0.3s;
    }
    button:hover { background: #17893d; }
    #spinWheel { width: 200px; height: 200px; margin: 20px auto; border: 5px solid #1fa84a; border-radius: 50%; display:flex;align-items:center;justify-content:center;}
    .admin { display:none; }
  </style>
</head>
<body>

<h2>ðŸŽ® Play Adds Game</h2>

<div id="nameInput">
  <input type="text" id="playerName" placeholder="Enter your name" />
  <button onclick="saveName()">Start Game</button>
</div>

<div class="game-container" id="game" style="display:none;">
  <p><b>Player:</b> <span id="displayName"></span></p>
  <p>Points: <span id="points">0</span></p>

  <div class="circle" id="tapCircle">Tap 10s</div>

  <p id="timerText">Time Left: 10s</p>

  <button onclick="showAdThenSpin()">ðŸŽ¡ Spin Wheel</button>
  <div id="spinWheel">SPIN</div>

  <h3>Redeem Points</h3>
  <input type="text" id="upi" placeholder="Enter UPI ID" />
  <input type="email" id="email" placeholder="Enter Email" />
  <button onclick="redeem()">Redeem</button>

  <p id="limitMsg" style="color:red;"></p>
</div>

<div class="admin" id="adminPanel">
  <h3>Admin Panel</h3>
  <div id="redeemList"></div>
</div>

<script>
let points = parseInt(localStorage.getItem('points')) || 0;
let limit = parseInt(localStorage.getItem('dailyLimit')) || 0;
let name = localStorage.getItem('playerName') || '';
let spinning = false;

if(name){ document.getElementById('nameInput').style.display='none'; document.getElementById('game').style.display='block'; document.getElementById('displayName').textContent=name; document.getElementById('points').textContent=points; }

function saveName(){
  const val = document.getElementById('playerName').value.trim();
  if(!val) return alert('Enter name');
  localStorage.setItem('playerName', val);
  document.getElementById('nameInput').style.display='none';
  document.getElementById('game').style.display='block';
  document.getElementById('displayName').textContent = val;
}

function showAd(callback){
  alert('Ad is showing... (Reward after completion)');
  setTimeout(()=>{ alert('Ad finished âœ…'); callback(); }, 2000);
}

function tapGame(){
  if(limit >= 500){ document.getElementById('limitMsg').textContent='Daily limit reached! Come tomorrow.'; return; }
  let time=10;
  document.getElementById('timerText').textContent='Time Left: '+time+'s';
  let countdown=setInterval(()=>{
    time--;
    document.getElementById('timerText').textContent='Time Left: '+time+'s';
    if(time<=0){ clearInterval(countdown); showAd(()=>{ points+=5; limit+=5; localStorage.setItem('points',points); localStorage.setItem('dailyLimit',limit); document.getElementById('points').textContent=points; alert('+5 points rewarded!'); }); }
  },1000);
}

document.getElementById('tapCircle').addEventListener('click', tapGame);

function showAdThenSpin(){
  if(limit >= 500){ document.getElementById('limitMsg').textContent='Daily limit reached! Come tomorrow.'; return; }
  showAd(spinWheel);
}

function spinWheel(){
  if(spinning) return;
  spinning = true;
  let spinDiv=document.getElementById('spinWheel');
  spinDiv.style.transition='transform 3s ease-out';
  const deg= Math.floor(Math.random()*360)+720;
  spinDiv.style.transform='rotate('+deg+'deg)';
  setTimeout(()=>{
    const reward = Math.floor(Math.random() * 14) + 2;
    points+=reward; limit+=reward;
    localStorage.setItem('points',points);
    localStorage.setItem('dailyLimit',limit);
    document.getElementById('points').textContent=points;
    alert('You won '+reward+' points!');
    spinning=false;
  },3000);
}

function redeem(){
  if(points < 500) return alert('Need minimum 500 points');
  const upi=document.getElementById('upi').value;
  const email=document.getElementById('email').value;
  if(!upi || !email) return alert('Enter UPI & Email');
  const req={ name, upi, email, points, date:new Date().toLocaleString() };
  let all=JSON.parse(localStorage.getItem('redeemRequests')||'[]');
  all.push(req);
  localStorage.setItem('redeemRequests', JSON.stringify(all));
  points=0; localStorage.setItem('points',0);
  alert('Redeem request submitted!');
}

function checkAdmin(){
  const pass = prompt('Enter admin password:');
  if(pass==='admin123'){ document.getElementById('adminPanel').style.display='block'; showRequests(); }
  else alert('Access Denied');
}

function showRequests(){
  let all=JSON.parse(localStorage.getItem('redeemRequests')||'[]');
  let html='<ul>';
  all.forEach(r=>{ html+=`<li>${r.name} - ${r.points} pts - ${r.upi} - ${r.email}</li>`; });
  html+='</ul>';
  document.getElementById('redeemList').innerHTML=html;
}

</script>

<button onclick="checkAdmin()">Admin</button>

</body>
</html>
